#Linux agent 
sudo apt install perl libwww-perl libjson-perl libnet-ssleay-perl libnet-cups-perl libproc-daemon-perl
sudo mkdir -p /opt/glpi-agent
cd Téléchargement
sudo wget https://github.com/glpi-project/glpi-agent/releases/download/1.11/GLPI-Agent-1.11.tar.gz
tar -xvzf GLPI-Agent-1.11.tar.gz
sudo mv ~/Téléchargements/GLPI-Agent-1.11/* /opt/glpi-agent/
cd /opt/glpi-agent
sudo chown -R root:root /opt/glpi-agent
sudo chmod -R 755 /opt/glpi-agent
sudo ln -s /opt/glpi-agent/bin/glpi-agent /usr/local/bin/glpi-agent
sudo ln -s /opt/glpi-agent/bin/* /usr/local/bin/
sudo glpi-agent --server http://172.16.1.4/glpi/front/inventory.php
sudo systemctl enable glpi-agent
sudo systemctl start glpi-agent
systemctl status glpi-agent

sudo nano /etc/systemd/system/glpi-agent.service


[Unit]
Description=GLPI Agent
After=network.target

[Service]
Environment=PERL5LIB=/opt/glpi-agent/lib
ExecStart=/usr/bin/perl -I/opt/glpi-agent/lib /opt/glpi-agent/bin/glpi-agent --server http://172.16.1.4/glpi/front/inventory.php
Restart=always
User=root

[Install]
WantedBy=multi-user.target

sudo systemctl daemon-reload
sudo systemctl enable glpi-agent
sudo systemctl start glpi-agent
sudo systemctl status glpi-agent



glpi-agent --server http://172.16.1.4/glpi/front/inventory.php --debug
/opt/glpi-agent/bin/glpi-agent --server http://172.16.1.4/glpi/front/inventory.php
rm -rf ~/Téléchargements/GLPI-Agent-1.11


sudo systemctl daemon-reload
sudo systemctl restart glpi-agent
sudo systemctl status glpi-agent

sudo glpi-agent --server http://172.16.1.4/glpi/front/inventory.php --debug
sudo perl -I/opt/glpi-agent/lib /opt/glpi-agent/bin/glpi-agent --server http://172.16.1.4/glpi/front/inventory.php --debug
ls -l /opt/glpi-agent/lib/setup.pm
sudo chmod -R 755 /opt/glpi-agent
sudo chown -R root:root /opt/glpi-agent


curl -I http://172.16.1.4/glpi/front/inventory.php
ls /opt/glpi-agent/lib/setup.pm
export PERL5LIB=/opt/glpi-agent/lib

sudo systemctl stop glpi-agent
sudo systemctl disable glpi-agent
sudo rm /etc/systemd/system/glpi-agent.service
sudo systemctl daemon-reload
sudo rm -rf /opt/glpi-agent
sudo rm /usr/local/bin/glpi-agent
sudo rm /usr/local/bin/glpi-inventory
sudo rm /usr/local/bin/glpi-netinventory
sudo rm /usr/local/bin/glpi-netdiscovery
sudo rm /usr/local/bin/glpi-remote
sudo rm /usr/local/bin/glpi-wakeonlan
source ~/.bashrc
rm -rf ~/Téléchargements/GLPI-Agent-1.11.tar.gz



